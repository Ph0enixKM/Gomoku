\hypertarget{game_8c}{}\doxysection{game/game.c File Reference}
\label{game_8c}\index{game/game.c@{game/game.c}}
{\ttfamily \#include $<$include.\+h$>$}\newline
Include dependency graph for game.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{game_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{game_8c_a5bd3a9679cacce3db7c0aa1f22fbec0d}{game\+Over}} (char symbol)
\begin{DoxyCompactList}\small\item\em Show game over. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{game_8c_ab81d43d8c165bb0345a538c2ad058b73}{create\+Game}} (bool load)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{game_8c_ab81d43d8c165bb0345a538c2ad058b73}\label{game_8c_ab81d43d8c165bb0345a538c2ad058b73}} 
\index{game.c@{game.c}!createGame@{createGame}}
\index{createGame@{createGame}!game.c@{game.c}}
\doxysubsubsection{\texorpdfstring{createGame()}{createGame()}}
{\footnotesize\ttfamily void create\+Game (\begin{DoxyParamCaption}\item[{bool}]{load }\end{DoxyParamCaption})}

Create a game board Remember that this function Must be invoked after we Know which color is our player 

Definition at line 148 of file game.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{148                            \{}
\DoxyCodeLine{149     UI color = UILoadImage(\mbox{\hyperlink{include_8c_a0efe9fe8bd076922b0723d9241afee55}{img\_blackPawn}});}
\DoxyCodeLine{150     UI header = UICreateGrid(\textcolor{keyword}{true});}
\DoxyCodeLine{151     UI vbox = UICreateVBox(\textcolor{keyword}{false});}
\DoxyCodeLine{152     \mbox{\hyperlink{include_8c_a0010453860b717e3e208c95f323a7696}{ui\_grid}} = UICreateGrid(\textcolor{keyword}{true});}
\DoxyCodeLine{153     \mbox{\hyperlink{include_8c_ae358a096b091525a274ca7136c09b62c}{ui\_status}} = UICreateLabel(\textcolor{stringliteral}{""});}
\DoxyCodeLine{154     UISetID(header, \textcolor{stringliteral}{"header"});}
\DoxyCodeLine{155     \textcolor{keywordflow}{if} (\mbox{\hyperlink{include_8c_af61d6983a9396a11078805087518af88}{player}} == \mbox{\hyperlink{lobby_8h_a9c8780378078e51e7c9041cbac392db9a283fc479650da98250635b9c3c0e7e50}{WHITE}}) \{}
\DoxyCodeLine{156         color = UILoadImage(\mbox{\hyperlink{include_8c_a53dc8f2da6ed31aee38630491471f1fc}{img\_whitePawn}});}
\DoxyCodeLine{157     \}}
\DoxyCodeLine{158     UI exit = UICreateButton(\textcolor{stringliteral}{""});}
\DoxyCodeLine{159     gtk\_button\_set\_image(GTK\_BUTTON(exit), UILoadImage(\mbox{\hyperlink{utils_8c_a3cda056a79882de7ea9567d8e06ffaa0}{resize}}(\mbox{\hyperlink{include_8c_ad841bbb391a346121eaaeef2a4fe01b5}{img\_exit}}, 40, 40)));}
\DoxyCodeLine{160     gtk\_widget\_set\_tooltip\_text(exit, \textcolor{stringliteral}{"Exit to menu"});}
\DoxyCodeLine{161     UIAddClass(exit, \textcolor{stringliteral}{"btn-\/img"});}
\DoxyCodeLine{162     UIEvent(exit, \textcolor{stringliteral}{"clicked"}, eventExit, NULL);}
\DoxyCodeLine{163 }
\DoxyCodeLine{164     \mbox{\hyperlink{include_8c_ab5934bd0a044b3b572777aee21ba58ea}{ui\_save}} = UICreateButton(\textcolor{stringliteral}{""});}
\DoxyCodeLine{165     gtk\_widget\_set\_tooltip\_text(\mbox{\hyperlink{include_8c_ab5934bd0a044b3b572777aee21ba58ea}{ui\_save}}, \textcolor{stringliteral}{"Save"});}
\DoxyCodeLine{166     gtk\_button\_set\_image(GTK\_BUTTON(\mbox{\hyperlink{include_8c_ab5934bd0a044b3b572777aee21ba58ea}{ui\_save}}), UILoadImage(\mbox{\hyperlink{utils_8c_a3cda056a79882de7ea9567d8e06ffaa0}{resize}}(\mbox{\hyperlink{include_8c_a6b9175bcfb41d1a0670f471864202efd}{img\_save}}, 30, 30)));}
\DoxyCodeLine{167     UIAddClass(\mbox{\hyperlink{include_8c_ab5934bd0a044b3b572777aee21ba58ea}{ui\_save}}, \textcolor{stringliteral}{"btn-\/img"});}
\DoxyCodeLine{168     UIEvent(\mbox{\hyperlink{include_8c_ab5934bd0a044b3b572777aee21ba58ea}{ui\_save}}, \textcolor{stringliteral}{"clicked"}, \mbox{\hyperlink{save_8c_a80f6490751cbd7faedf37bf5897c5494}{saveGame}}, NULL);}
\DoxyCodeLine{169 }
\DoxyCodeLine{170     UIAttach(header, exit, 0, 0, 1, 1);}
\DoxyCodeLine{171     UIAttach(header, \mbox{\hyperlink{include_8c_ab5934bd0a044b3b572777aee21ba58ea}{ui\_save}}, 0, 1, 1, 1);}
\DoxyCodeLine{172     UIAttach(header, color, 1, 0, 2, 2);}
\DoxyCodeLine{173     UIAttach(header, \mbox{\hyperlink{include_8c_ae358a096b091525a274ca7136c09b62c}{ui\_status}}, 3, 0, 3, 2);}
\DoxyCodeLine{174     gtk\_widget\_set\_size\_request(\mbox{\hyperlink{include_8c_ae358a096b091525a274ca7136c09b62c}{ui\_status}}, 150, 50);}
\DoxyCodeLine{175     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < \mbox{\hyperlink{include_8c_a439227feff9d7f55384e8780cfc2eb82}{size}}; y++) \{}
\DoxyCodeLine{176         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x = 0; x < \mbox{\hyperlink{include_8c_a439227feff9d7f55384e8780cfc2eb82}{size}}; x++) \{}
\DoxyCodeLine{177             UI field = UICreateButton(\textcolor{stringliteral}{""});}
\DoxyCodeLine{178             \textcolor{keywordtype}{int}* pos = malloc(2 * \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{int}));}
\DoxyCodeLine{179             UIEvent(field, \textcolor{stringliteral}{"clicked"}, turnPawn, pos);}
\DoxyCodeLine{180             UIAttach(\mbox{\hyperlink{include_8c_a0010453860b717e3e208c95f323a7696}{ui\_grid}}, field, x, y, 1, 1);}
\DoxyCodeLine{181             gtk\_widget\_set\_size\_request(field, 40, 40);}
\DoxyCodeLine{182             UIAddClass(field, ((x + y) \% 2)}
\DoxyCodeLine{183                 ? \textcolor{stringliteral}{"black-\/field"}}
\DoxyCodeLine{184                 : \textcolor{stringliteral}{"white-\/field"}}
\DoxyCodeLine{185             );}
\DoxyCodeLine{186             \mbox{\hyperlink{include_8c_a3b085c2d077addcf84574e861b744425}{btns}}[y * \mbox{\hyperlink{include_8c_a439227feff9d7f55384e8780cfc2eb82}{size}} + x] = field;}
\DoxyCodeLine{187             pos[0] = x;}
\DoxyCodeLine{188             pos[1] = y;}
\DoxyCodeLine{189         \}}
\DoxyCodeLine{190     \}}
\DoxyCodeLine{191     UIAppend(vbox, header);}
\DoxyCodeLine{192     UIAppend(vbox, \mbox{\hyperlink{include_8c_a0010453860b717e3e208c95f323a7696}{ui\_grid}});}
\DoxyCodeLine{193     UIStackAdd(\mbox{\hyperlink{include_8c_a4623db982507063504bc083b336ff60d}{ui\_stack}}, vbox, \mbox{\hyperlink{include_8c_a55b498a14369ffc5cfd9bc3753fbea89}{scene\_game}});}
\DoxyCodeLine{194     \textcolor{keywordflow}{if} (\mbox{\hyperlink{include_8c_af61d6983a9396a11078805087518af88}{player}} == \mbox{\hyperlink{lobby_8h_a9c8780378078e51e7c9041cbac392db9af77fb67151d0c18d397069ad8c271ba3}{BLACK}}) \{}
\DoxyCodeLine{195         \mbox{\hyperlink{include_8c_ae0f9d5c297dd3b998761ce74c2714bc5}{whiteDump}} = \mbox{\hyperlink{talk_8c_ae86d5cf8c4b7858d2fb27fa98760226f}{tlkPipeCreate}}(}
\DoxyCodeLine{196             \mbox{\hyperlink{include_8c_a45f1209067f1f27fa6c32ea8fbd940a0}{file\_whiteDump}}, }
\DoxyCodeLine{197             \mbox{\hyperlink{include_8c_af3b7d5d3524449aa15cdc541236b0e5c}{gameBuffer}}, }
\DoxyCodeLine{198             \mbox{\hyperlink{talk_8h_a8714f591264e002ad1847fc184bc5db3a0628188d2a2e35859781f06b15a090a1}{TLK\_READ}}}
\DoxyCodeLine{199         );}
\DoxyCodeLine{200         turnMove();}
\DoxyCodeLine{201     \}}
\DoxyCodeLine{202     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{203         \mbox{\hyperlink{include_8c_a003d927dd5c9c5916e3b3a469d67a4dc}{blackDump}} = \mbox{\hyperlink{talk_8c_ae86d5cf8c4b7858d2fb27fa98760226f}{tlkPipeCreate}}(}
\DoxyCodeLine{204             \mbox{\hyperlink{include_8c_aaf2e6ce06b3acd550d08e277b2cb894b}{file\_blackDump}}, }
\DoxyCodeLine{205             \mbox{\hyperlink{include_8c_af3b7d5d3524449aa15cdc541236b0e5c}{gameBuffer}}, }
\DoxyCodeLine{206             \mbox{\hyperlink{talk_8h_a8714f591264e002ad1847fc184bc5db3a0628188d2a2e35859781f06b15a090a1}{TLK\_READ}}}
\DoxyCodeLine{207         );}
\DoxyCodeLine{208         turnWait();}
\DoxyCodeLine{209     \}}
\DoxyCodeLine{210     \textcolor{keywordflow}{if} (load) updateButtons();}
\DoxyCodeLine{211     g\_timeout\_add(16, turnWaitLoop, NULL);}
\DoxyCodeLine{212 \}}

\end{DoxyCode}
\mbox{\Hypertarget{game_8c_a5bd3a9679cacce3db7c0aa1f22fbec0d}\label{game_8c_a5bd3a9679cacce3db7c0aa1f22fbec0d}} 
\index{game.c@{game.c}!gameOver@{gameOver}}
\index{gameOver@{gameOver}!game.c@{game.c}}
\doxysubsubsection{\texorpdfstring{gameOver()}{gameOver()}}
{\footnotesize\ttfamily void game\+Over (\begin{DoxyParamCaption}\item[{char}]{symbol }\end{DoxyParamCaption})}



Show game over. 



Definition at line 111 of file game.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{111                            \{}
\DoxyCodeLine{112     UIAddClass(\mbox{\hyperlink{include_8c_a0010453860b717e3e208c95f323a7696}{ui\_grid}}, \textcolor{stringliteral}{"wait"});}
\DoxyCodeLine{113     \mbox{\hyperlink{include_8c_a0596dd648affe32e428af51a69077182}{turn}} = \textcolor{keyword}{false};}
\DoxyCodeLine{114     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{utils_8c_a28c5a22a6a12302382637a193d037c5b}{isNullized}}(\mbox{\hyperlink{include_8c_a86bd490f71f921f12c1fe3b0f190279b}{trace}})) \{}
\DoxyCodeLine{115         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < \mbox{\hyperlink{include_8c_a1594f5e18099b6cf36f8c65246df8f64}{winReq}}; i++) \{}
\DoxyCodeLine{116             \textcolor{keywordtype}{int} place = \mbox{\hyperlink{include_8c_a86bd490f71f921f12c1fe3b0f190279b}{trace}}[i].\mbox{\hyperlink{structPos_a6b309684454df6615bce567e09437348}{y}} * \mbox{\hyperlink{include_8c_a439227feff9d7f55384e8780cfc2eb82}{size}} + \mbox{\hyperlink{include_8c_a86bd490f71f921f12c1fe3b0f190279b}{trace}}[i].\mbox{\hyperlink{structPos_a4bcafee8dc3800fb8c3792de54996496}{x}};}
\DoxyCodeLine{117             UI field = \mbox{\hyperlink{include_8c_a3b085c2d077addcf84574e861b744425}{btns}}[place];}
\DoxyCodeLine{118             UIAddClass(field, \textcolor{stringliteral}{"trace"});}
\DoxyCodeLine{119             \textcolor{keywordflow}{if} (\mbox{\hyperlink{include_8c_af61d6983a9396a11078805087518af88}{player}} == (\textcolor{keywordtype}{unsigned})symbol)}
\DoxyCodeLine{120                 UIAddClass(field, \textcolor{stringliteral}{"win"});}
\DoxyCodeLine{121         \}}
\DoxyCodeLine{122     \}}
\DoxyCodeLine{123     gtk\_widget\_set\_sensitive (\mbox{\hyperlink{include_8c_ab5934bd0a044b3b572777aee21ba58ea}{ui\_save}}, \textcolor{keyword}{false});}
\DoxyCodeLine{124 \}}

\end{DoxyCode}


References btns, is\+Nullized(), player, size, trace, turn, ui\+\_\+grid, ui\+\_\+save, win\+Req, Pos\+::x, and Pos\+::y.



Referenced by game\+Check().

