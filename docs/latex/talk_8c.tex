\hypertarget{talk_8c}{}\doxysection{talk/talk.c File Reference}
\label{talk_8c}\index{talk/talk.c@{talk/talk.c}}
{\ttfamily \#include $<$include.\+h$>$}\newline
Include dependency graph for talk.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{talk_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{talk_8c_abba584ee9fe1f27f16b300d9654cd7f4}{tlk\+Set\+Buffer}} (int \mbox{\hyperlink{include_8h_a439227feff9d7f55384e8780cfc2eb82}{size}})
\begin{DoxyCompactList}\small\item\em Set buffer size (default is 1024) \end{DoxyCompactList}\item 
int \mbox{\hyperlink{talk_8c_a2e1355c123af6ef4ce249714f8c87af2}{tlk\+Send}} (const char $\ast$filename, const char $\ast$format,...)
\begin{DoxyCompactList}\small\item\em Send textual infromation through pipe synchronously. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{talk_8c_a5acc7917083eeb24dd73a6183105b398}{tlk\+Send\+Async}} (const char $\ast$filename, const char $\ast$format,...)
\begin{DoxyCompactList}\small\item\em Send textual information through pip asynchronously. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{talk_8c_abff71d6474a3bc3dc67cb2c9b0b3969c}{tlk\+Recv\+Async}} (const char $\ast$filename)
\begin{DoxyCompactList}\small\item\em Receive textual information asynchronously. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{talk_8c_a35b04d02c71b3f014fe8a573bc713137}{tlk\+Recv}} (const char $\ast$filename)
\begin{DoxyCompactList}\small\item\em Receive textual information synchronously. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{talk_8c_a7cb0a0c419794583c68ed6dc917dc8d1}{tlk\+Write}} (const char $\ast$filename, const char $\ast$format,...)
\begin{DoxyCompactList}\small\item\em Write textual information to a file. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{talk_8c_a4e7406066655022cf20f024dd2a255d7}{tlk\+Read}} (const char $\ast$filename)
\begin{DoxyCompactList}\small\item\em Read textual information from a file. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structTlkPipe}{Tlk\+Pipe}} \mbox{\hyperlink{talk_8c_ae86d5cf8c4b7858d2fb27fa98760226f}{tlk\+Pipe\+Create}} (const char $\ast$filename, int buffer, \mbox{\hyperlink{talk_8h_a8714f591264e002ad1847fc184bc5db3}{Tlk\+Mode}} mode)
\begin{DoxyCompactList}\small\item\em Create Pipe and return an object representation. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{talk_8c_aa9b478ca073ec57eee31eca0e72d7160}{tlk\+Pipe\+Send}} (\mbox{\hyperlink{structTlkPipe}{Tlk\+Pipe}} $\ast$this, const char $\ast$format,...)
\begin{DoxyCompactList}\small\item\em Asynchronously send textual information to the pipe. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{talk_8c_aeb01f6bdcbbfbc0f4ba699ade8c54e6b}{tlk\+Pipe\+Recv}} (\mbox{\hyperlink{structTlkPipe}{Tlk\+Pipe}} $\ast$this)
\item 
void \mbox{\hyperlink{talk_8c_ae722dfdc91014ea3207f691b320e9d65}{tlk\+Pipe\+Remove}} (\mbox{\hyperlink{structTlkPipe}{Tlk\+Pipe}} $\ast$this)
\begin{DoxyCompactList}\small\item\em Close opened pipe. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{talk_8c_ae86d5cf8c4b7858d2fb27fa98760226f}\label{talk_8c_ae86d5cf8c4b7858d2fb27fa98760226f}} 
\index{talk.c@{talk.c}!tlkPipeCreate@{tlkPipeCreate}}
\index{tlkPipeCreate@{tlkPipeCreate}!talk.c@{talk.c}}
\doxysubsubsection{\texorpdfstring{tlkPipeCreate()}{tlkPipeCreate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structTlkPipe}{Tlk\+Pipe}} tlk\+Pipe\+Create (\begin{DoxyParamCaption}\item[{const char $\ast$}]{filename,  }\item[{int}]{buffer,  }\item[{\mbox{\hyperlink{talk_8h_a8714f591264e002ad1847fc184bc5db3}{Tlk\+Mode}}}]{mode }\end{DoxyParamCaption})}



Create Pipe and return an object representation. 



Definition at line 72 of file talk.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{72                                                                       \{}
\DoxyCodeLine{73     \textcolor{keywordtype}{int} fd = 0;}
\DoxyCodeLine{74     \textcolor{keywordflow}{if} (access(filename, F\_OK)) mkfifo(filename, 0666);}
\DoxyCodeLine{75     \textcolor{keywordflow}{if} (mode == \mbox{\hyperlink{talk_8h_a8714f591264e002ad1847fc184bc5db3a0628188d2a2e35859781f06b15a090a1}{TLK\_READ}})}
\DoxyCodeLine{76         fd = open(filename, O\_RDONLY | O\_NONBLOCK);}
\DoxyCodeLine{77     \textcolor{keywordflow}{else}}
\DoxyCodeLine{78         fd = open(filename, O\_WRONLY | O\_NONBLOCK);}
\DoxyCodeLine{79     \textcolor{keywordflow}{return} (\mbox{\hyperlink{structTlkPipe}{TlkPipe}}) \{}
\DoxyCodeLine{80         .mode = mode,}
\DoxyCodeLine{81         .buffer = buffer,}
\DoxyCodeLine{82         .open = \textcolor{keyword}{true},}
\DoxyCodeLine{83         .fd = fd}
\DoxyCodeLine{84     \};}
\DoxyCodeLine{85 \}}

\end{DoxyCode}
\mbox{\Hypertarget{talk_8c_aeb01f6bdcbbfbc0f4ba699ade8c54e6b}\label{talk_8c_aeb01f6bdcbbfbc0f4ba699ade8c54e6b}} 
\index{talk.c@{talk.c}!tlkPipeRecv@{tlkPipeRecv}}
\index{tlkPipeRecv@{tlkPipeRecv}!talk.c@{talk.c}}
\doxysubsubsection{\texorpdfstring{tlkPipeRecv()}{tlkPipeRecv()}}
{\footnotesize\ttfamily char$\ast$ tlk\+Pipe\+Recv (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTlkPipe}{Tlk\+Pipe}} $\ast$}]{this }\end{DoxyParamCaption})}

Asynchronously receive textual information through the pipe 

Definition at line 99 of file talk.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{99                                  \{}
\DoxyCodeLine{100     \textcolor{keywordflow}{if} (!this-\/>open) \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{101     \textcolor{keywordtype}{char}* text = calloc(this-\/>buffer, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}));}
\DoxyCodeLine{102     \textcolor{keywordtype}{int} \mbox{\hyperlink{include_8c_a439227feff9d7f55384e8780cfc2eb82}{size}} = read(this-\/>fd, text, this-\/>buffer);}
\DoxyCodeLine{103     \textcolor{keywordflow}{if} (\mbox{\hyperlink{include_8c_a439227feff9d7f55384e8780cfc2eb82}{size}} < 1) \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{104     \textcolor{keywordflow}{return} text;}
\DoxyCodeLine{105 \}}

\end{DoxyCode}
\mbox{\Hypertarget{talk_8c_ae722dfdc91014ea3207f691b320e9d65}\label{talk_8c_ae722dfdc91014ea3207f691b320e9d65}} 
\index{talk.c@{talk.c}!tlkPipeRemove@{tlkPipeRemove}}
\index{tlkPipeRemove@{tlkPipeRemove}!talk.c@{talk.c}}
\doxysubsubsection{\texorpdfstring{tlkPipeRemove()}{tlkPipeRemove()}}
{\footnotesize\ttfamily void tlk\+Pipe\+Remove (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTlkPipe}{Tlk\+Pipe}} $\ast$}]{this }\end{DoxyParamCaption})}



Close opened pipe. 



Definition at line 107 of file talk.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{107                                   \{}
\DoxyCodeLine{108     \textcolor{keywordflow}{if} (this-\/>open) close(this-\/>fd);}
\DoxyCodeLine{109 \}}

\end{DoxyCode}
\mbox{\Hypertarget{talk_8c_aa9b478ca073ec57eee31eca0e72d7160}\label{talk_8c_aa9b478ca073ec57eee31eca0e72d7160}} 
\index{talk.c@{talk.c}!tlkPipeSend@{tlkPipeSend}}
\index{tlkPipeSend@{tlkPipeSend}!talk.c@{talk.c}}
\doxysubsubsection{\texorpdfstring{tlkPipeSend()}{tlkPipeSend()}}
{\footnotesize\ttfamily int tlk\+Pipe\+Send (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structTlkPipe}{Tlk\+Pipe}} $\ast$}]{this,  }\item[{const char $\ast$}]{format,  }\item[{}]{... }\end{DoxyParamCaption})}



Asynchronously send textual information to the pipe. 



Definition at line 87 of file talk.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{87                                                         \{}
\DoxyCodeLine{88     \textcolor{keywordflow}{if} (!this-\/>open) \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{89     \textcolor{keywordtype}{char}* text = calloc(this-\/>buffer, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}));}
\DoxyCodeLine{90     va\_list argptr;}
\DoxyCodeLine{91     va\_start(argptr, format);}
\DoxyCodeLine{92     vsprintf(text, format, argptr);}
\DoxyCodeLine{93     va\_end(argptr);}
\DoxyCodeLine{94     \textcolor{keywordtype}{int} state = write(this-\/>fd, text, this-\/>buffer);}
\DoxyCodeLine{95     free(text);}
\DoxyCodeLine{96     \textcolor{keywordflow}{return} state;}
\DoxyCodeLine{97 \}}

\end{DoxyCode}
\mbox{\Hypertarget{talk_8c_a4e7406066655022cf20f024dd2a255d7}\label{talk_8c_a4e7406066655022cf20f024dd2a255d7}} 
\index{talk.c@{talk.c}!tlkRead@{tlkRead}}
\index{tlkRead@{tlkRead}!talk.c@{talk.c}}
\doxysubsubsection{\texorpdfstring{tlkRead()}{tlkRead()}}
{\footnotesize\ttfamily char$\ast$ tlk\+Read (\begin{DoxyParamCaption}\item[{const char $\ast$}]{filename }\end{DoxyParamCaption})}



Read textual information from a file. 



Definition at line 65 of file talk.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{65                                     \{}
\DoxyCodeLine{66     FILE* file = fopen(filename, \textcolor{stringliteral}{"r"});}
\DoxyCodeLine{67     \textcolor{keywordtype}{char}* text = calloc(buffer, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}));}
\DoxyCodeLine{68     fread(text, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}), buffer, file);}
\DoxyCodeLine{69     \textcolor{keywordflow}{return} text;}
\DoxyCodeLine{70 \}}

\end{DoxyCode}


Referenced by load\+Game().

\mbox{\Hypertarget{talk_8c_a35b04d02c71b3f014fe8a573bc713137}\label{talk_8c_a35b04d02c71b3f014fe8a573bc713137}} 
\index{talk.c@{talk.c}!tlkRecv@{tlkRecv}}
\index{tlkRecv@{tlkRecv}!talk.c@{talk.c}}
\doxysubsubsection{\texorpdfstring{tlkRecv()}{tlkRecv()}}
{\footnotesize\ttfamily char$\ast$ tlk\+Recv (\begin{DoxyParamCaption}\item[{const char $\ast$}]{filename }\end{DoxyParamCaption})}



Receive textual information synchronously. 



Definition at line 47 of file talk.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{47                                     \{}
\DoxyCodeLine{48     \textcolor{keywordflow}{if} (access(filename, F\_OK)) mkfifo(filename, 0666);}
\DoxyCodeLine{49     \textcolor{keywordtype}{int} fd = open(filename, O\_RDONLY);}
\DoxyCodeLine{50     \textcolor{keywordtype}{char}* text = calloc(buffer, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}));}
\DoxyCodeLine{51     read(fd, text, buffer);}
\DoxyCodeLine{52     close(fd);}
\DoxyCodeLine{53     \textcolor{keywordflow}{return} text;}
\DoxyCodeLine{54 \}}

\end{DoxyCode}


Referenced by join\+Lobby().

\mbox{\Hypertarget{talk_8c_abff71d6474a3bc3dc67cb2c9b0b3969c}\label{talk_8c_abff71d6474a3bc3dc67cb2c9b0b3969c}} 
\index{talk.c@{talk.c}!tlkRecvAsync@{tlkRecvAsync}}
\index{tlkRecvAsync@{tlkRecvAsync}!talk.c@{talk.c}}
\doxysubsubsection{\texorpdfstring{tlkRecvAsync()}{tlkRecvAsync()}}
{\footnotesize\ttfamily char$\ast$ tlk\+Recv\+Async (\begin{DoxyParamCaption}\item[{const char $\ast$}]{filename }\end{DoxyParamCaption})}



Receive textual information asynchronously. 



Definition at line 37 of file talk.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{37                                          \{}
\DoxyCodeLine{38     \textcolor{keywordflow}{if} (access(filename, F\_OK)) mkfifo(filename, 0666);}
\DoxyCodeLine{39     \textcolor{keywordtype}{int} fd = open(filename, O\_RDONLY | O\_NONBLOCK);}
\DoxyCodeLine{40     \textcolor{keywordtype}{char}* text = calloc(buffer, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}));}
\DoxyCodeLine{41     \textcolor{keywordtype}{int} \mbox{\hyperlink{include_8c_a439227feff9d7f55384e8780cfc2eb82}{size}} = read(fd, text, buffer);}
\DoxyCodeLine{42     close(fd);}
\DoxyCodeLine{43     \textcolor{keywordflow}{if} (\mbox{\hyperlink{include_8c_a439227feff9d7f55384e8780cfc2eb82}{size}} < 1) \textcolor{keywordflow}{return} NULL;}
\DoxyCodeLine{44     \textcolor{keywordflow}{return} text;}
\DoxyCodeLine{45 \}}

\end{DoxyCode}
\mbox{\Hypertarget{talk_8c_a2e1355c123af6ef4ce249714f8c87af2}\label{talk_8c_a2e1355c123af6ef4ce249714f8c87af2}} 
\index{talk.c@{talk.c}!tlkSend@{tlkSend}}
\index{tlkSend@{tlkSend}!talk.c@{talk.c}}
\doxysubsubsection{\texorpdfstring{tlkSend()}{tlkSend()}}
{\footnotesize\ttfamily int tlk\+Send (\begin{DoxyParamCaption}\item[{const char $\ast$}]{filename,  }\item[{const char $\ast$}]{format,  }\item[{}]{... }\end{DoxyParamCaption})}



Send textual infromation through pipe synchronously. 



Definition at line 9 of file talk.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{9                                                            \{}
\DoxyCodeLine{10     \textcolor{keywordflow}{if} (access(filename, F\_OK)) mkfifo(filename, 0666);}
\DoxyCodeLine{11     \textcolor{keywordtype}{int} fd = open(filename, O\_WRONLY);}
\DoxyCodeLine{12     \textcolor{keywordtype}{char}* text = calloc(buffer, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}));}
\DoxyCodeLine{13     va\_list argptr;}
\DoxyCodeLine{14     va\_start(argptr, format);}
\DoxyCodeLine{15     vsprintf(text, format, argptr);}
\DoxyCodeLine{16     va\_end(argptr);}
\DoxyCodeLine{17     \textcolor{keywordtype}{int} state = write(fd, text, buffer);}
\DoxyCodeLine{18     close(fd);}
\DoxyCodeLine{19     free(text);}
\DoxyCodeLine{20     \textcolor{keywordflow}{return} state;}
\DoxyCodeLine{21 \}}

\end{DoxyCode}


Referenced by game\+Check().

\mbox{\Hypertarget{talk_8c_a5acc7917083eeb24dd73a6183105b398}\label{talk_8c_a5acc7917083eeb24dd73a6183105b398}} 
\index{talk.c@{talk.c}!tlkSendAsync@{tlkSendAsync}}
\index{tlkSendAsync@{tlkSendAsync}!talk.c@{talk.c}}
\doxysubsubsection{\texorpdfstring{tlkSendAsync()}{tlkSendAsync()}}
{\footnotesize\ttfamily int tlk\+Send\+Async (\begin{DoxyParamCaption}\item[{const char $\ast$}]{filename,  }\item[{const char $\ast$}]{format,  }\item[{}]{... }\end{DoxyParamCaption})}



Send textual information through pip asynchronously. 



Definition at line 23 of file talk.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{23                                                                 \{}
\DoxyCodeLine{24     \textcolor{keywordflow}{if} (access(filename, F\_OK)) mkfifo(filename, 0666);}
\DoxyCodeLine{25     \textcolor{keywordtype}{int} fd = open(filename, O\_WRONLY | O\_NONBLOCK);}
\DoxyCodeLine{26     \textcolor{keywordtype}{char}* text = calloc(buffer, \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{char}));}
\DoxyCodeLine{27     va\_list argptr;}
\DoxyCodeLine{28     va\_start(argptr, format);}
\DoxyCodeLine{29     vsprintf(text, format, argptr);}
\DoxyCodeLine{30     va\_end(argptr);}
\DoxyCodeLine{31     \textcolor{keywordtype}{int} state = write(fd, text, buffer);}
\DoxyCodeLine{32     close(fd);}
\DoxyCodeLine{33     free(text);}
\DoxyCodeLine{34     \textcolor{keywordflow}{return} state;}
\DoxyCodeLine{35 \}}

\end{DoxyCode}
\mbox{\Hypertarget{talk_8c_abba584ee9fe1f27f16b300d9654cd7f4}\label{talk_8c_abba584ee9fe1f27f16b300d9654cd7f4}} 
\index{talk.c@{talk.c}!tlkSetBuffer@{tlkSetBuffer}}
\index{tlkSetBuffer@{tlkSetBuffer}!talk.c@{talk.c}}
\doxysubsubsection{\texorpdfstring{tlkSetBuffer()}{tlkSetBuffer()}}
{\footnotesize\ttfamily void tlk\+Set\+Buffer (\begin{DoxyParamCaption}\item[{int}]{size }\end{DoxyParamCaption})}



Set buffer size (default is 1024) 



Definition at line 5 of file talk.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{5                             \{}
\DoxyCodeLine{6     buffer = \mbox{\hyperlink{include_8c_a439227feff9d7f55384e8780cfc2eb82}{size}};}
\DoxyCodeLine{7 \}}

\end{DoxyCode}
\mbox{\Hypertarget{talk_8c_a7cb0a0c419794583c68ed6dc917dc8d1}\label{talk_8c_a7cb0a0c419794583c68ed6dc917dc8d1}} 
\index{talk.c@{talk.c}!tlkWrite@{tlkWrite}}
\index{tlkWrite@{tlkWrite}!talk.c@{talk.c}}
\doxysubsubsection{\texorpdfstring{tlkWrite()}{tlkWrite()}}
{\footnotesize\ttfamily void tlk\+Write (\begin{DoxyParamCaption}\item[{const char $\ast$}]{filename,  }\item[{const char $\ast$}]{format,  }\item[{}]{... }\end{DoxyParamCaption})}



Write textual information to a file. 



Definition at line 56 of file talk.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{56                                                              \{}
\DoxyCodeLine{57     FILE* file = fopen(filename, \textcolor{stringliteral}{"w"});}
\DoxyCodeLine{58     va\_list argptr;}
\DoxyCodeLine{59     va\_start(argptr, format);}
\DoxyCodeLine{60     vfprintf(file, format, argptr);}
\DoxyCodeLine{61     va\_end(argptr);}
\DoxyCodeLine{62     fclose(file);}
\DoxyCodeLine{63 \}}

\end{DoxyCode}


Referenced by save\+Game().

